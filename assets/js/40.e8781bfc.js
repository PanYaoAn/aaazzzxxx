(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{206:function(e,a,t){"use strict";t.r(a);var s=t(0),o=Object(s.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content"},[t("h2",{attrs:{id:"本地存储-localstorage-localstorage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地存储-localstorage-localstorage"}},[e._v("#")]),e._v(" 本地存储(localStorage,localStorage)")]),e._v(" "),t("pre",[t("code",[e._v("对浏览器来说，使用 Web Storage 存储键值对比存储 Cookie 方式更直观，而且容量更大，它包含两种：localStorage 和 sessionStorage\n")])]),e._v(" "),t("h3",{attrs:{id:"api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" API")]),e._v(" "),t("pre",[t("code",[e._v("sessionStorage 和 localStorage 的用法基本一致，引用类型的值要转换成JSON\n")])]),e._v(" "),t("h3",{attrs:{id:"localstorage-sessionstorage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-sessionstorage"}},[e._v("#")]),e._v(" localStorage sessionStorage")]),e._v(" "),t("pre",[t("code",[e._v("localStorage（长期存储） ：与 sessionStorage 一样，但是浏览器关闭后，数据依然会一直存在(需要用户手动清除)\nsessionStorage（临时存储） ：为每一个数据源维持一个存储区域，在浏览器打开期间存在，包括页面重新加载\n")])]),e._v(" "),t("h3",{attrs:{id:"保存数据到本地"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保存数据到本地"}},[e._v("#")]),e._v(" 保存数据到本地")]),e._v(" "),t("pre",[t("code",[e._v("sessionStorage.setItem('key', JSON.stringify(info));\nlocalStorage.setItem('key', JSON.stringify(info));\n")])]),e._v(" "),t("h3",{attrs:{id:"从本地存储获取数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从本地存储获取数据"}},[e._v("#")]),e._v(" 从本地存储获取数据")]),e._v(" "),t("pre",[t("code",[e._v(" var data1 = JSON.parse(sessionStorage.getItem('key'));\nvar data2 = JSON.parse(localStorage.getItem('key'));\n")])]),e._v(" "),t("h3",{attrs:{id:"本地存储中删除某个保存的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地存储中删除某个保存的数据"}},[e._v("#")]),e._v(" 本地存储中删除某个保存的数据")]),e._v(" "),t("pre",[t("code",[e._v("sessionStorage.removeItem('key');\nlocalStorage.removeItem('key');\n")])]),e._v(" "),t("h3",{attrs:{id:"删除所有保存的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除所有保存的数据"}},[e._v("#")]),e._v(" 删除所有保存的数据")]),e._v(" "),t("pre",[t("code",[e._v("sessionStorage.clear();\nlocalStorage.clear();\n")])]),e._v(" "),t("h3",{attrs:{id:"监听本地存储的变化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#监听本地存储的变化"}},[e._v("#")]),e._v(" 监听本地存储的变化")]),e._v(" "),t("pre",[t("code",[e._v("Storage 发生变化（增加、更新、删除）时的 触发，同一个页面发生的改变不会触发，只会监听同一域名下其他页面改变 Storage\n\n\nwindow.addEventListener('storage', function (e) {\n        console.log('key', e.key);\n        console.log('oldValue', e.oldValue);\n        console.log('newValue', e.newValue);\n        console.log('url', e.url);\n    })\n")])])])}],!1,null,null,null);a.default=o.exports}}]);